<!DOCTYPE html>
<html lang="jp" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
        <head prefix="website: http://ogp.me/ns/website#">
        <meta charset="utf-8">
 

        <title>liff-real</title>

        <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/versions/2.5.0/sdk.js"></script>
        <script type="text/javascript">
            /**
            * Initialize LIFF
            * @param {string} myLiffId The LIFF app ID of the selected element
            */
            document.addEventListener("DOMContentLoaded", () => {
                liff
                    .init({
                        liffId: "1655828362-KLxYgqxg",
                        withLoginOnExternalBrowser: true, // Enable automatic login process
                    })
                    .then(() => {
                        liff.getProfile()
                            .then(function (profile) {
                                document.getElementById('useridprofilefield').textContent = profile.userId;
                                document.getElementById('displaynamefield').textContent = profile.displayName;

                                var profilePictureDiv = document.getElementById('profilepicturediv');
                                if (profilePictureDiv.firstElementChild) {
                                    profilePictureDiv.removeChild(profilePictureDiv.firstElementChild);
                                }
                                var img = document.createElement('img');
                                img.src = profile.pictureUrl;
                                img.alt = "Profile Picture";
                                img.width = 200;
                                profilePictureDiv.appendChild(img);

                                document.getElementById('statusmessagefield').textContent = profile.statusMessage;
                            }).catch(function (error) {
                                window.alert("Error getting profile: " + error);
                            });

                    })
            });
            
        </script>
        
        
    </head>
    
    <body>
                <h3 id="name">333</h3>
        <input type="number" id="num"/></br>
   <div id="profileinfo">
        <h2>Profile</h2>
        <div id="profilepicturediv">
        </div>
        <table border="1">
            <tr>
                <th>userId</th>
                <td id="useridprofilefield"></td>
            </tr>
            <tr>
                <th>displayName</th>
                <td id="displaynamefield"></td>
            </tr>
            <tr>
                <th>statusMessage</th>
                <td id="statusmessagefield"></td>
            </tr>
        </table>
    </div>
                <input type="button" id="add_to_home" value="add_to_home"/>


    </body>
</html>
